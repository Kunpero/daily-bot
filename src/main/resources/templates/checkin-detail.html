<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check-In Details - Daily Bot</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .main-content {
            padding: 2rem 0;
        }
        .card {
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: none;
        }
        .card-header {
            background: linear-gradient(135deg, #4A154B 0%, #3a0f3a 100%);
            color: white;
            border-radius: 15px 15px 0 0 !important;
            border: none;
        }
        .btn-primary {
            background: linear-gradient(135deg, #4A154B 0%, #3a0f3a 100%);
            border: none;
            border-radius: 8px;
        }
        .btn-primary:hover {
            background: linear-gradient(135deg, #3a0f3a 0%, #2a0b2a 100%);
            transform: translateY(-1px);
        }
        .btn-warning, .btn-danger, .btn-secondary {
            border-radius: 8px;
        }
        .message-content {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1.5rem;
            border-left: 4px solid #4A154B;
        }
        .message-content.intro {
            border-left-color: #28a745;
        }
        .message-content.outro {
            border-left-color: #17a2b8;
        }
        .metadata {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 1rem;
        }
        .badge {
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fab fa-slack me-2"></i>
                Daily Bot
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/checkin">
                    <i class="fas fa-arrow-left me-1"></i>
                    Back to Check-Ins
                </a>
                <a class="nav-link" href="/logout">
                    <i class="fas fa-sign-out-alt me-1"></i>
                    Logout
                </a>
            </div>
        </div>
    </nav>

    <div class="container main-content">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <!-- Header -->
                <div class="card mb-4">
                    <div class="card-header">
                        <div class="d-flex justify-content-between align-items-center">
                            <h4 class="mb-0">
                                <i class="fas fa-clipboard-list me-2"></i>
                                Check-In Details
                            </h4>
                            <div class="btn-group">
                                <a th:href="@{/checkin/{uuid}/edit(uuid=${checkIn.uuid})}" class="btn btn-warning">
                                    <i class="fas fa-edit me-1"></i>
                                    Edit
                                </a>
                                <button type="button" class="btn btn-danger" onclick="confirmDelete()">
                                    <i class="fas fa-trash me-1"></i>
                                    Delete
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Check-In Information -->
                <div class="card mb-4">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <h6 class="text-muted mb-2">Check-In ID</h6>
                                <p class="h5" th:text="${checkIn.uuid}">#123</p>
                            </div>
                            <div class="col-md-4">
                                <h6 class="text-muted mb-2">Name</h6>
                                <p class="h5 text-primary" th:text="${checkIn.name}">Check-In Name</p>
                            </div>
                            <div class="col-md-4">
                                <h6 class="text-muted mb-2">Owner</h6>
                                <span class="badge bg-primary fs-6" th:text="${checkIn.owner}">user@example.com</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Messages -->
                <div class="row">
                    <!-- Intro Message -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-success text-white">
                                <h5 class="mb-0">
                                    <i class="fas fa-play-circle me-2"></i>
                                    Introduction Message
                                </h5>
                            </div>
                            <div class="card-body">
                                <div th:if="${checkIn.introMessage}" class="message-content intro">
                                    <p class="mb-0" th:text="${checkIn.introMessage}">Introduction message content</p>
                                </div>
                                <div th:unless="${checkIn.introMessage}" class="text-muted text-center py-4">
                                    <i class="fas fa-minus-circle fa-2x mb-2"></i>
                                    <p class="mb-0">No introduction message provided</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Outro Message -->
                    <div class="col-12 mb-4">
                        <div class="card">
                            <div class="card-header bg-info text-white">
                                <h5 class="mb-0">
                                    <i class="fas fa-stop-circle me-2"></i>
                                    Conclusion Message
                                </h5>
                            </div>
                            <div class="card-body">
                                <div th:if="${checkIn.outroMessage}" class="message-content outro">
                                    <p class="mb-0" th:text="${checkIn.outroMessage}">Conclusion message content</p>
                                </div>
                                <div th:unless="${checkIn.outroMessage}" class="text-muted text-center py-4">
                                    <i class="fas fa-minus-circle fa-2x mb-2"></i>
                                    <p class="mb-0">No conclusion message provided</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Metadata -->
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>
                            Metadata
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="metadata">
                                    <h6 class="text-muted mb-2">
                                        <i class="fas fa-calendar-plus me-1"></i>
                                        Created Date
                                    </h6>
                                    <p class="mb-0" th:text="${#temporals.format(checkIn.creationDate, 'yyyy-MM-dd HH:mm:ss')}">
                                        2024-01-01 12:00:00
                                    </p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="metadata">
                                    <h6 class="text-muted mb-2">
                                        <i class="fas fa-calendar-edit me-1"></i>
                                        Last Updated
                                    </h6>
                                    <p class="mb-0" th:text="${#temporals.format(checkIn.lastUpdateDate, 'yyyy-MM-dd HH:mm:ss')}">
                                        2024-01-01 12:00:00
                                    </p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row mt-3">
                            <div class="col-12">
                                <div class="metadata">
                                    <h6 class="text-muted mb-2">
                                        <i class="fas fa-clock me-1"></i>
                                        Time Information
                                    </h6>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <small class="text-muted">Created:</small>
                                            <br>
                                            <span th:text="${#temporals.format(checkIn.creationDate, 'EEEE, MMMM dd, yyyy')}">
                                                Monday, January 01, 2024
                                            </span>
                                        </div>
                                        <div class="col-md-6">
                                            <small class="text-muted">Last Modified:</small>
                                            <br>
                                            <span th:text="${#temporals.format(checkIn.lastUpdateDate, 'EEEE, MMMM dd, yyyy')}">
                                                Monday, January 01, 2024
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="card mt-4">
                    <div class="card-body text-center">
                        <a href="/checkin" class="btn btn-secondary me-2">
                            <i class="fas fa-arrow-left me-1"></i>
                            Back to List
                        </a>
                        <a th:href="@{/checkin/{uuid}/edit(uuid=${checkIn.uuid})}" class="btn btn-warning me-2">
                            <i class="fas fa-edit me-1"></i>
                            Edit Check-In
                        </a>
                        <button type="button" class="btn btn-danger" onclick="confirmDelete()">
                            <i class="fas fa-trash me-1"></i>
                            Delete Check-In
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal fade" id="deleteModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Confirm Delete</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>Warning:</strong> This action cannot be undone.
                    </div>
                    <p>Are you sure you want to delete this check-in?</p>
                    <div class="bg-light p-3 rounded">
                        <strong>Check-In ID:</strong> <span th:text="${checkIn.uuid}">#123</span><br>
                        <strong>Name:</strong> <span th:text="${checkIn.name}">Check-In Name</span><br>
                        <strong>Owner:</strong> <span th:text="${checkIn.owner}">user@example.com</span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <form th:action="@{/checkin/{uuid}/delete(uuid=${checkIn.uuid})}" method="post" style="display: inline;">
                        <button type="submit" class="btn btn-danger">
                            <i class="fas fa-trash me-1"></i>
                            Delete Check-In
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function confirmDelete() {
            new bootstrap.Modal(document.getElementById('deleteModal')).show();
        }
    </script>
</body>
</html>